<!DOCTYPE html>
<html lang="cs-cz">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title> -- nabito.net</title>

    

    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://ozzyczech.github.io/nabito.net//css/clean-blog.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar navbar-default navbar-custom navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://ozzyczech.github.io/nabito.net/">nabito.net</a>
            </div>

                       
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    
                  </ul>
            </div>
           

          </div>
    </nav>



<p>title: Výpočet hash objektu v PHP
date: 25.9.2011 08:31:20
author: Roman Ožana <a href="mailto:ozana@omdesign.cz">ozana@omdesign.cz</a>
tags: Hash object PHP, PHP
&ndash;&gt;</p>

<h1 id="výpočet-hash-objektu-v-php">Výpočet hash objektu v PHP</h1>

<p>Funkce <a href="http://php.net/manual/en/function.spl-object-hash.php">spl_object_hash()</a> má jednu <strong>nevýhodu</strong>, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto:</p>

<pre><code>class Foo {
 private $p;
 public function setProperty($p) {
  $this-&gt;p = $p;
 }
 // vypocita hash objektu na zaklade hodnot jeho propert
 public function __toString() {
  return md5(http_build_query(get_object_vars($this)));
 }
}
</code></pre>

<p>Pro vypsání/získání hash pak stačí:
    $bar = new Foo();
    $bar-&gt;setProperty(&lsquo;25&rsquo;);
    echo $bar;
    $hash = (string) $bar;</p>


    <footer>

    </footer>

    
    <script src="https://ozzyczech.github.io/nabito.net//js/jquery.min.js"></script>

    
    <script src="https://ozzyczech.github.io/nabito.net//js/bootstrap.min.js"></script>


    

</body>

</html>

