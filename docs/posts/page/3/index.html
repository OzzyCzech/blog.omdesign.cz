<!DOCTYPE html>
<html lang="cs-cz">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Roman Ožana">
	<title>Posts</title>	
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:title" content="Posts"/>
	<meta name="twitter:description" content=""/>
	<meta name="twitter:site" content="@OzzyCzech"/>
	<meta name="twitter:domain" content="http://blog.omdesign.cz/"/>
	<meta name="twitter:creator" content="@OzzyCzech"/>
	<meta property="og:title" content="Posts" />
	<meta property="og:description" content="" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://blog.omdesign.cz/posts/" />
	<meta property="og:updated_time" content="2013-07-24 00:00:00 &#43;0000 UTC"/>
	<meta property="og:site_name" content="blog.omdesign.cz" />
	<meta property="article:author" content="https://www.facebook.com/roman.ozana" />
	<meta property="article:publisher" content="https://www.facebook.com/roman.ozana" />
	
	<meta property="article:modified_time" content="2013-07-24 00:00:00 &#43;0000 UTC" />
	<meta property="article:section" content="" />
	<meta itemprop="name" content="Posts">
	<meta itemprop="description" content="">
	<meta itemprop="keywords" content="ajax,angular,antispam,archive,atom,auto,automator,barvy,bash,boostrap,brew,canvas,composer,css,diplomka,drive,email,excerpt,ftp,git,github,gulp,hack,hash,heartbleed,hermelín,how-to,howto,html,html5,internet,ios,iphone,js,json,lifehacker,mac,meta,movies,nodejs,npm,oauth,oko,openssl,osx,parkinsons-law,pear,php,plugin,protip,přepis-auta,rebase,recepty,retina,shell,student,svg,terminal,tip,todo,tyčinky,user,ux,webdesign,wordpress,wysiwyg,xcode,youtube,zamyšlení,zdraví,zip," />
	
<link href="http://blog.omdesign.cz/posts/index.xml" rel="alternate" type="application/rss+xml" title="blog.omdesign.cz"/>
	<link href="http://blog.omdesign.cz/posts/index.xml" rel="feed" type="application/rss+xml" title="blog.omdesign.cz"/><!-- Fonts, jQuery and js -->
	<link href="//fonts.googleapis.com/css?family=Lora" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="http://blog.omdesign.cz//js/app.js"></script>
	<!-- Twitter boostrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!-- Google code prettify -->
	<script src="//cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true"></script>
	<link href="http://blog.omdesign.cz//css/style.css" rel="stylesheet">
</head>
<body>


<div class="container">
	<div class="row">
		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
			
			<article>
	

<h1 id="how-to-safely-commit-vendor-dir-with-php-composer">How to safely commit vendor dir with php Composer</h1>

<p><a href="http://getcomposer.org/">Composer</a> is great tool, but sometimes you will need avoid all external dependencies. Sometimes you will need have all source codes in your git repository. Should I <a href="http://getcomposer.org/doc/faqs/should-i-commit-the-dependencies-in-my-vendor-directory.md"> commit the dependencies</a> in my vendor directory, and still have all benefits of using Composer? Here are my requirements: - Everything need to be automatically.
- I will work on application and my packages together.
- I need a simple way how to commit and publish new version of packages.
- Workflow need to be simple (mimimum of commands)</p>

<h3 id="how-to-commit-vendor-dir">How to commit vendor dir?</h3>

<p>Remove <code>vendor</code> dir from your <code>.gitignore</code> and add follow lines to root of <code>composer.json</code></p>

<pre><code>&quot;scripts&quot;: {
 &quot;post-update-cmd&quot;: [&quot;echo [WARNING] Delete all .git dirs&quot;, &quot;rm -rf vendor/**/**/.git&quot;],
 &quot;post-install-cmd&quot;: [&quot;echo [WARNING] Delete all .git dirs&quot;, &quot;rm -rf vendor/**/**/.git&quot;]
},
</code></pre>

<p>That&rsquo;s automatically remove the <code>.git</code> directory of every dependency after the installation or update. You can safely commit everything to your git repo and avoid mistakes with fake git &ldquo;submodules&rdquo;. Run: <code>composer update</code> and commit everything to your repo. ### How make changes in packages?</p>

<p>When you are using tagged releases (no dev versions) of package then run:</p>

<pre><code>rm -rf vendor/some/package &amp;&amp; composer update some/package --prefer-source --no-scripts
</code></pre>

<p>For dev versions (dev-master) it&rsquo;s simpler:</p>

<pre><code>rm -rf vendor/some/package &amp;&amp; composer update some/package --no-scripts
</code></pre>

<p>Now, when you go to vendor/some/package dir it&rsquo;s common git repository - you can make changes, commit and publish new versions of package. But don&rsquo;t forgot run <code>composer update</code> before commit main repo, becouse there is still .git dir in package! ### Disadvantages</p>

<ul>
<li>Large VCS repository size and diffs when you update code.</li>
<li>Duplication of the history of all your dependencies in your own VCS.</li>
<li>There can be conflicts in commits especially when you work in larger team.</li>
<li>Still <strong>not avoid commit .git directory</strong> after running composer with <code>--no-scripts</code> param.</li>
</ul>

	
	<a href="http://blog.omdesign.cz/tags/composer">#composer</a>
	
	<a href="http://blog.omdesign.cz/tags/git">#git</a>
	
	<a href="http://blog.omdesign.cz/tags/php">#PHP</a>
	
	<time datetime="24076-08-724 240:00&#43;0000">24. 7. 2013</time>
</article>

			
			<article>
	

<h1 id="setup-email-sending-from-php-on-mac">Setup email sending from PHP on Mac</h1>

<p>First write in terminal: <code>which sendmail</code> wlll return path to sendmail app (in my case <code>/usr/sbin/sendmail</code>). Then open <code>php.ini</code> file and setup:</p>

<pre><code>sendmail_path = /usr/sbin/sendmail -t -i
</code></pre>

<p>Create necessary folder and setup postfix permissions:</p>

<pre><code>sudo mkdir -p /Library/Server/Mail/Data/spool
sudo /usr/sbin/postfix set-permissions
sudo /usr/sbin/postfix start
</code></pre>

<p>And check if emails will come:</p>

<pre><code>php -r &quot;mail('youremail@domain.com', 'subject', 'message', 'From: &lt;youremail@domain.com&gt;' . PHP_EOL);&quot;
</code></pre>

	
	<a href="http://blog.omdesign.cz/tags/email">#email</a>
	
	<a href="http://blog.omdesign.cz/tags/mac">#mac</a>
	
	<a href="http://blog.omdesign.cz/tags/php">#PHP</a>
	
	<time datetime="14056-08-514 140:00&#43;0000">14. 5. 2013</time>
</article>

			
			<article>
	

<h1 id="how-to-detect-retina-display-in-css">How to detect Retina display in CSS?</h1>

<pre><code>@media only screen and (-webkit-min-device-pixel-ratio: 2),(min-resolution: 192dpi) {
  /* it's retina yeah! */
}
</code></pre>

	
	<a href="http://blog.omdesign.cz/tags/css">#CSS</a>
	
	<a href="http://blog.omdesign.cz/tags/howto">#howto</a>
	
	<a href="http://blog.omdesign.cz/tags/retina">#retina</a>
	
	<time datetime="27036-08-327 270:00&#43;0000">27. 3. 2013</time>
</article>

			
			<article>
	

<h1 id="toggle-hidden-files-in-finder">Toggle Hidden Files in Finder</h1>

<p>Run <a href="http://en.wikipedia.org/wiki/Automator_(software)">Automator</a> and create new Application. Add task <strong>Run Shell script</strong> and paste follow code:</p>

<pre><code>STATUS=`defaults read com.apple.finder AppleShowAllFiles`
if [ $STATUS == YES ];
then
    defaults write com.apple.finder AppleShowAllFiles NO
else
    defaults write com.apple.finder AppleShowAllFiles YES
fi
killall Finder
</code></pre>

<p>Save application. From now can Tooggle</p>

	
	<a href="http://blog.omdesign.cz/tags/automator">#automator</a>
	
	<a href="http://blog.omdesign.cz/tags/mac">#mac</a>
	
	<a href="http://blog.omdesign.cz/tags/osx">#osx</a>
	
	<a href="http://blog.omdesign.cz/tags/shell">#shell</a>
	
	<time datetime="26036-08-326 260:00&#43;0000">26. 3. 2013</time>
</article>

			
			<article>
	

<h1 id="list-all-mounted-drives-on-mac">List all mounted drives on mac</h1>

<p>It&rsquo;s simple: <code>df -h</code></p>

	
	<a href="http://blog.omdesign.cz/tags/mac">#mac</a>
	
	<a href="http://blog.omdesign.cz/tags/terminal">#terminal</a>
	
	<time datetime="11036-08-311 110:00&#43;0000">11. 3. 2013</time>
</article>

			
			<article>
	

<h1 id="run-iphone-simulator-without-xcode">Run iPhone simulator without XCode</h1>

<pre><code>open -a &quot;iPhone Simulator&quot;
</code></pre>

	
	<a href="http://blog.omdesign.cz/tags/ios">#ios</a>
	
	<a href="http://blog.omdesign.cz/tags/osx">#osx</a>
	
	<a href="http://blog.omdesign.cz/tags/iphone">#iPhone</a>
	
	<a href="http://blog.omdesign.cz/tags/mac">#mac</a>
	
	<a href="http://blog.omdesign.cz/tags/xcode">#xcode</a>
	
	<time datetime="31016-08-131 310:00&#43;0000">31. 1. 2013</time>
</article>

			
			<article>
	

<h1 id="seznam-věcí-které-internet-zabil">Seznam věcí které Internet zabil</h1>

<p>Co všechno Internet zabil nebo zabíjí?</p>

<ol>
<li>Hudební průmysl</li>
<li>Filmový průmysl</li>
<li>Porno průmysl</li>
<li>Zásilkové služby (Quelle, Neckermann atd.)</li>
<li>Pohledy a dopisy psané rukou</li>
<li>Anonymitu (ta postupně mizí)</li>
<li>DVD a videopůjčovny</li>
<li>Časopisy noviny a poctivou novinařinu</li>
<li>Televizi</li>
<li>Encyklopedie</li>
<li>MMS, SMS</li>
<li>Tištěné mapy</li>
</ol>

	
	<a href="http://blog.omdesign.cz/tags/internet">#internet</a>
	
	<a href="http://blog.omdesign.cz/tags/zamy%C5%A1len%C3%AD">#zamyšlení</a>
	
	<time datetime="8016-08-18 80:00&#43;0000">8. 1. 2013</time>
</article>

			
			<article>
	

<h1 id="wysiwyg-pro-popis-uživatele-ve-wordpress">WYSIWYG pro popis uživatele ve Wordpress</h1>

<p>Následující kratičký kód zobrazí #WYSIWYG editor u popisu autora u uživatelského profilu: Kód stačí přidat do <code>function.php</code> ve vašem template:</p>

<pre><code>&lt;?php
/**
 * WYSIWYG pro uzivatelsky profil Wordpress
 *
 * @author Roman Ozana &lt;ozana@omdesign.cz&gt;
 */
class CustomUserProfile {

  /** @var array */
  private $tinymceOptions = array(
    'teeny' =&gt; true,
    'quicktags' =&gt; false,
    'media_buttons' =&gt; false, 'textarea_rows' =&gt; 8,
    'wpautop' =&gt; false,
    'tinymce' =&gt; array(
      'theme_advanced_buttons1' =&gt; 'p, bold, italic, ul, |,link,unlink,code',
      'theme_advanced_buttons2' =&gt; '',
      'theme_advanced_buttons3' =&gt; '',
      'theme_advanced_buttons4' =&gt; '',
    ),
  );

  public function __construct() {
    add_action('show_user_profile', array($this, 'initDescriptionWysywig'));
    add_action('edit_user_profile', array($this, 'initDescriptionWysywig'));
  }

  /**
   * Wysywig editor take pro description
   *
   * @param $options
   */
  public function initDescriptionWysywig($options) {
    if ( ! class_exists('_WP_Editors' ) )
      require_once( ABSPATH . WPINC . '/class-wp-editor.php' );

    $options = _WP_Editors::parse_settings('description', $this-&gt;tinymceOptions);
    _WP_Editors::editor_settings('description', $options);
    wp_print_styles('editor-buttons');
  }

}
new CustomUserProfile();
</code></pre>

<p>#wordpress #php</p>

	
	<a href="http://blog.omdesign.cz/tags/php">#PHP</a>
	
	<a href="http://blog.omdesign.cz/tags/wordpress">#wordpress</a>
	
	<a href="http://blog.omdesign.cz/tags/wysiwyg">#WYSIWYG</a>
	
	<time datetime="29106-08-1029 290:00&#43;0000">29. 10. 2012</time>
</article>

			
			<article>
	

<h1 id="zjištění-práv-k-souboru-nebo-adresáři-v-php">Zjištění práv k souboru nebo adresáři v PHP</h1>

<pre><code>function getPermisions($file) {
  return (is_dir($file) || is_file($file)) ? substr(decoct(fileperms($path)), -4) : '0000';
}
</code></pre>

<p>Nebo pro kontrolu, zda jsou práva dostatečná:</p>

<pre><code>function hasPermisions($path, $permission = 777) {
  $current = substr(decoct(fileperms($path)), $permission &gt; 1000 ? -4 : -3);
  return ($current &gt; $permission);
}
</code></pre>

	
	<a href="http://blog.omdesign.cz/tags/php">#PHP</a>
	
	<a href="http://blog.omdesign.cz/tags/tip">#tip</a>
	
	<time datetime="5096-08-95 50:00&#43;0000">5. 9. 2012</time>
</article>

			
			<article>
	

<h1 id="jak-správně-přepsat-ojeté-auto">Jak správně přepsat ojeté auto</h1>

<p>Popíšu jak to probíhalo u mě. Kupoval jsem ojeté auto přímo od majitele. Platil jsem hotově bez úvěru. Auto má platnou technickou prohlídku a emise do roku 2015.</p>

<ol>
<li>uzavřeli jsme s majitelem kupní smlouvu, kde byl uveden VIN kód auta</li>
<li>poslal jsme mu peníze na účet</li>
<li>původní majitel <strong>odhlásil auto</strong> na spádovém dopravním inspektorátu (Praha)</li>
<li><strong>prostřihli</strong> mu tam malý TP</li>
<li>do velkého TP mě jménem uvedl jako <strong>budoucího nového majitele</strong> (ušetří se tím plná moc v budoucnu)</li>
<li>na <strong>VIN</strong> jsem si uzavřel s pojišťovnou <strong>povinné ručení</strong></li>
<li>původní majitel si teď už mohl své povinné ručení zrušit</li>
</ol>

<p>S prostřiženým malým TP je možné jezdit <strong>bez úhony 10 dní</strong>, pak už se jedná o přestupek. Ale nikdy nesmíte vyjet na cestu s nepojištěným autem - proto povinné ručení. Je to dokonce tak přísné, že na smlouvě o povinném ručení je uvedena i hodina uzavření. Zelenou kartu tedy musíte mít v ruce už při převzetí auta od původního majitele. Rovněž auto nesmí na silnici pokud nemá platnou STK. To si jej pak musíte nechat odtáhnout rovnou na stanici STK a pokusit se ji obnovit. Pokud chcete s autem jezdit, musíte do 10 dní dokončit úplný přepis na sebe. Což provedete na svém spádovém dopravním inspektorátu. V mém případě to je Ostrava - podle trvalého bydliště. Jedná se tedy o <strong>přepis mezi dvěma kraji</strong>. Což znamená automaticky nutnost <strong>výměny registračních značek vozidla</strong>. Pokud se jedná pouze o přepis v rámci kraje, není výměna značek povinná. Záleží na novém majiteli, zda nové značky chce a připlatí si za ně. Pro dokončení přepisu budete potřebovat spoustu papírů: - <strong>občanku</strong> (doklad totožnosti)
- <strong>doklad o způsobu nabytí vozidla</strong> (u mě kupní smlouva)
- původní (staré) <strong>registrační značky</strong> vozidla
- osvědčení o registraci vozidla část II (tzv. <strong>velký technický průkaz</strong>)
- osvědčení o registraci vozidla část I (tzv. <strong>malý technický průkaz</strong> - ten prostřižený)
- plnou moc k přepisu vozidla, pokud Vás majitel neuvedl jako <strong>budoucího majitele</strong> při odhlášení auta (což mě uvedl, takže jsem nepotřeboval)
- doklad o <strong>technické prohlídce</strong> (zápis o platné pravidelné technické prohlídce v technickém průkazu nebo protokol o pravidelné technické prohlídce vystavený STK)
- doklad o sjednání pojištění odpovědnosti z provozu vozidla (tzv. <strong>povinné ručení</strong>) tzv. zelená karta
- <strong>žádost o přepis vozidla</strong> (dostanete a vyplníte na inspektorátu)
- <strong>protokol o evidenční kontrole silničního motorového</strong> (viz. níže)</p>

<p>Pro úspěšný přepis auta potřebujete tzv. <em>protokol o evidenční kontrole silničního motorového vozidla</em> - ten získáte na <strong>jakékoliv stanici STK</strong> v ČR. K získání protokolu je nutné: - ukázat občanku
- malý a velký technický průkaz
- a auto.</p>

<p>Celkově záležitost na 5 minut. Pracovník STK zkontroloval VIN, barvu vozidla, stav tachometru a číslo motoru. Stálo to kolem 200 Kč. Platnost protokolu je opět 10 dní. Po předložení všech náležitostí jsem na inspektorátu dostal nové ostravské značky a nový neprostřižený malý technický průkaz. Všechno byla záležitost cca na 10 minut. Stálo to na správních poplatcích 800 Kč. Kopii velkého technického průkazu jsem pak ještě poslal na pojišťovnu a ta mi obratem poslala novou zelenou kartu, kde je uvedena moje nová registrační značka. Ještě malý dodatek. Pokud je v autě na skle nalepená <strong>dálniční známka</strong>, zneplatní se výměnou značek. Dálniční známku si prý můžete nechat vyměnit na jakékoliv větší poště. Stačí k tomu původní známka a nový technický průkaz. Ještě jsem to nestihl udělat, takže přesně nevím.Petr Novák: Dovoluji si doplnit, že podle odkazované stránky České pošty se při výměně značky dálniční známka nemění a zůstává platná, specificky to zmiňuje bod 2.13 jejich metodického pokynu. (Možná to změnili, podle hlaviček ta stránka byla aktualizovaná 27. května letošního roku.)</p>

<p>Popis výměny dálniční známky najdete na stránkách <a href="http://www.ceskaposta.cz/cz/sluzby/prodej-na-postach/default.htm">České Pošty</a>. #posta #auto #how-to #registrace</p>

	
	<a href="http://blog.omdesign.cz/tags/auto">#auto</a>
	
	<a href="http://blog.omdesign.cz/tags/how-to">#how-to</a>
	
	<a href="http://blog.omdesign.cz/tags/p%C5%99epis-auta">#přepis-auta</a>
	
	<a href="http://blog.omdesign.cz/tags/lifehacker">#lifehacker</a>
	
	<time datetime="14066-08-614 140:00&#43;0000">14. 6. 2012</time>
</article>

			
			
    
    <ul class="pagination">
        
        <li>
            <a href="http://blog.omdesign.cz/posts/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
        </li>
        
        <li
        >
        <a href="http://blog.omdesign.cz/posts/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
        </li>
        
        <li
        ><a href="http://blog.omdesign.cz/posts/">1</a></li>
        
        <li
        ><a href="http://blog.omdesign.cz/posts/page/2/">2</a></li>
        
        <li
        class="active"><a href="http://blog.omdesign.cz/posts/page/3/">3</a></li>
        
        <li
        ><a href="http://blog.omdesign.cz/posts/page/4/">4</a></li>
        
        <li
        >
        <a href="http://blog.omdesign.cz/posts/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
        </li>
        
        <li>
            <a href="http://blog.omdesign.cz/posts/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
        </li>
        
    </ul>
    
		</div>
	</div>
</div>


    <footer></footer>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-5420131-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
