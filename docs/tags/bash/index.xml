<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Bash on blog.omdesign.cz</title>
    <link>http://blog.omdesign.cz/tags/bash/</link>
    <description>Recent content in Bash on blog.omdesign.cz</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cs-cz</language>
    <managingEditor>ozana@omdesign.cz (Roman Ožana)</managingEditor>
    <webMaster>ozana@omdesign.cz (Roman Ožana)</webMaster>
    <lastBuildDate>Thu, 25 Sep 2014 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://blog.omdesign.cz/tags/bash/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>How to fix “Shell Shock” bash bug on OS X</title>
      <link>http://blog.omdesign.cz/how-to-fix-shell-shock-bash-bug-on-os-x/</link>
      <pubDate>Thu, 25 Sep 2014 00:00:00 +0000</pubDate>
      <author>ozana@omdesign.cz (Roman Ožana)</author>
      <guid>http://blog.omdesign.cz/how-to-fix-shell-shock-bash-bug-on-os-x/</guid>
      <description>

&lt;h1 id=&#34;how-to-fix-shell-shock-bash-bug-on-os-x&#34;&gt;How to fix “Shell Shock” bash bug on OS X&lt;/h1&gt;

&lt;p&gt;First try if your bash version it’s vulnerable. Go to terminal and run:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ env x=&#39;() { :;}; echo vulnerable&#39; bash -c &#39;echo hello&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Follow output is an example of a non-vulnerable bash version.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;bash: warning: x: ignoring function definition attempt
bash: error importing function definition for `x&#39;
hello
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you see the word &lt;strong&gt;vulnerable&lt;/strong&gt; in the output of that command your bash is &lt;strong&gt;vulnerable&lt;/strong&gt; and you &lt;strong&gt;should update&lt;/strong&gt;. ### How to update bash with Homebrew&lt;/p&gt;

&lt;p&gt;First check your bash version:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ bash --version    
GNU bash, version 4.3.18(1)-release (x86_64-apple-darwin13.3.0)
Copyright (C) 2013 Free Software Foundation, Inc.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then find your bash directory (full path can be usefull later):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ls -la /usr/local/bin/bash
/usr/local/bin/bash -&amp;gt; ../Cellar/bash/4.3.25/bin/bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then upgrade bash:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ brew update
$ brew upgrade bash
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If your terminal starts returning weird error like:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dyld: Library not loaded: @@HOMEBREW_PREFIX@@/opt/readline/lib/libreadline.6.dylib
  Referenced from: /usr/local/bin/bash
  Reason: image not found
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You will need upgrade also readline with follow commands:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ brew rm -f readline
$ brew install readline
$ brew link readline --force
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;: If you accidentally close &lt;strong&gt;Terminal&lt;/strong&gt; before getting above errors and your bash just stop working at all. Go to Terminal preferences&lt;code&gt;⌘+,&lt;/code&gt; and change bash version to older e.g.&lt;code&gt;/usr/local/Cellar/bash/4.3.18/bin/bash&lt;/code&gt; then quit Terminal &lt;code&gt;⌘+Q&lt;/code&gt;. Upgrade readline and change path back to &lt;code&gt;/usr/local/bin/bash&lt;/code&gt; and restart Terminal again.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to clean flash drive before unmount on Mac</title>
      <link>http://blog.omdesign.cz/how-to-clean-flash-drive-before-unmount-on-mac/</link>
      <pubDate>Sat, 21 Dec 2013 00:00:00 +0000</pubDate>
      <author>ozana@omdesign.cz (Roman Ožana)</author>
      <guid>http://blog.omdesign.cz/how-to-clean-flash-drive-before-unmount-on-mac/</guid>
      <description>

&lt;h1 id=&#34;how-to-clean-flash-drive-before-unmount-on-mac&#34;&gt;How to clean flash drive before unmount on Mac&lt;/h1&gt;

&lt;p&gt;How to &lt;strong&gt;clean flash drive&lt;/strong&gt; and delete all hidden (dot) files on mac before unmount? It&amp;rsquo;s simple, save follow commands as &lt;code&gt;flash&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/bin/bash

if [ -n &amp;quot;$1&amp;quot; ]; then
  read -r -p &amp;quot;Clean /Volumes/$1/ and unmount? [y/N] &amp;quot; response
  if [[ $response =~ ^([yY][eE][sS]|[yY])$ ]]; then      
    find /Volumes/$1/ -name &#39;._*&#39; -type f -delete
    rm -rf /Volumes/$1/.Spotlight-V100/
    rm -rf /Volumes/$1/.Trashes/
    diskutil unmount /Volumes/$1/
    echo &amp;quot;Done...&amp;quot;
  fi
else
  echo &amp;quot;Flash drive name missing&amp;quot;
fi
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Then change the access mode of a file &lt;code&gt;chmod +x flash&lt;/code&gt;. To unmount a clean flash drive just run
&lt;code&gt;./flash Flashka&lt;/code&gt; (Flashka is name od drive).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Jak spočítat počet řádků kódu?</title>
      <link>http://blog.omdesign.cz/jak-spo%C4%8D%C3%ADtat-po%C4%8Det-%C5%99%C3%A1dk%C5%AF-k%C3%B3du/</link>
      <pubDate>Sat, 07 Jan 2012 00:00:00 +0000</pubDate>
      <author>ozana@omdesign.cz (Roman Ožana)</author>
      <guid>http://blog.omdesign.cz/jak-spo%C4%8D%C3%ADtat-po%C4%8Det-%C5%99%C3%A1dk%C5%AF-k%C3%B3du/</guid>
      <description>

&lt;h1 id=&#34;jak-spočítat-počet-řádků-kódu&#34;&gt;Jak spočítat počet řádků kódu?&lt;/h1&gt;

&lt;p&gt;V mém příkladu počítám počet řádků PHP kódu:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;grep -v &#39;^ *$&#39; `find . -iname &amp;quot;*.php&amp;quot;` | wc -l
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Pro zajímavost takový Wordpress má více jak 250 000 řádků PHP.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>