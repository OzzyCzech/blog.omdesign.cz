<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Composer on nabito.net</title>
    <link>https://ozzyczech.github.io/nabito.net/tags/composer/</link>
    <description>Recent content in Composer on nabito.net</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>cs-cz</language>
    <managingEditor>ozana@omdesign.cz (Roman Ožana)</managingEditor>
    <webMaster>ozana@omdesign.cz (Roman Ožana)</webMaster>
    <lastBuildDate>Wed, 25 Sep 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://ozzyczech.github.io/nabito.net/tags/composer/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Composer require PEAR package</title>
      <link>https://ozzyczech.github.io/nabito.net/composer-require-pear-package/</link>
      <pubDate>Wed, 25 Sep 2013 00:00:00 +0000</pubDate>
      <author>ozana@omdesign.cz (Roman Ožana)</author>
      <guid>https://ozzyczech.github.io/nabito.net/composer-require-pear-package/</guid>
      <description>

&lt;h1 id=&#34;composer-require-pear-package&#34;&gt;Composer require PEAR package&lt;/h1&gt;

&lt;pre&gt;&lt;code&gt;{
 &amp;quot;repositories&amp;quot;: [
  {
   &amp;quot;type&amp;quot;: &amp;quot;pear&amp;quot;,
   &amp;quot;url&amp;quot;: &amp;quot;http://pear.php.net&amp;quot;
  }
 ],
 &amp;quot;require&amp;quot;: {
  &amp;quot;pear-pear/Mail&amp;quot;: &amp;quot;&amp;gt;=1.2.0&amp;quot;
 }
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>How to safely commit vendor dir with php Composer</title>
      <link>https://ozzyczech.github.io/nabito.net/how-to-safely-commit-vendor-dir-with-php-composer/</link>
      <pubDate>Wed, 24 Jul 2013 00:00:00 +0000</pubDate>
      <author>ozana@omdesign.cz (Roman Ožana)</author>
      <guid>https://ozzyczech.github.io/nabito.net/how-to-safely-commit-vendor-dir-with-php-composer/</guid>
      <description>

&lt;h1 id=&#34;how-to-safely-commit-vendor-dir-with-php-composer&#34;&gt;How to safely commit vendor dir with php Composer&lt;/h1&gt;

&lt;p&gt;&lt;a href=&#34;http://getcomposer.org/&#34;&gt;Composer&lt;/a&gt; is great tool, but sometimes you will need avoid all external dependencies. Sometimes you will need have all source codes in your git repository. Should I &lt;a href=&#34;http://getcomposer.org/doc/faqs/should-i-commit-the-dependencies-in-my-vendor-directory.md&#34;&gt; commit the dependencies&lt;/a&gt; in my vendor directory, and still have all benefits of using Composer? Here are my requirements: - Everything need to be automatically.
- I will work on application and my packages together.
- I need a simple way how to commit and publish new version of packages.
- Workflow need to be simple (mimimum of commands)&lt;/p&gt;

&lt;h3 id=&#34;how-to-commit-vendor-dir&#34;&gt;How to commit vendor dir?&lt;/h3&gt;

&lt;p&gt;Remove &lt;code&gt;vendor&lt;/code&gt; dir from your &lt;code&gt;.gitignore&lt;/code&gt; and add follow lines to root of &lt;code&gt;composer.json&lt;/code&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;scripts&amp;quot;: {
 &amp;quot;post-update-cmd&amp;quot;: [&amp;quot;echo [WARNING] Delete all .git dirs&amp;quot;, &amp;quot;rm -rf vendor/**/**/.git&amp;quot;],
 &amp;quot;post-install-cmd&amp;quot;: [&amp;quot;echo [WARNING] Delete all .git dirs&amp;quot;, &amp;quot;rm -rf vendor/**/**/.git&amp;quot;]
},
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;That&amp;rsquo;s automatically remove the &lt;code&gt;.git&lt;/code&gt; directory of every dependency after the installation or update. You can safely commit everything to your git repo and avoid mistakes with fake git &amp;ldquo;submodules&amp;rdquo;. Run: &lt;code&gt;composer update&lt;/code&gt; and commit everything to your repo. ### How make changes in packages?&lt;/p&gt;

&lt;p&gt;When you are using tagged releases (no dev versions) of package then run:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rm -rf vendor/some/package &amp;amp;&amp;amp; composer update some/package --prefer-source --no-scripts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For dev versions (dev-master) it&amp;rsquo;s simpler:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rm -rf vendor/some/package &amp;amp;&amp;amp; composer update some/package --no-scripts
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, when you go to vendor/some/package dir it&amp;rsquo;s common git repository - you can make changes, commit and publish new versions of package. But don&amp;rsquo;t forgot run &lt;code&gt;composer update&lt;/code&gt; before commit main repo, becouse there is still .git dir in package! ### Disadvantages&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Large VCS repository size and diffs when you update code.&lt;/li&gt;
&lt;li&gt;Duplication of the history of all your dependencies in your own VCS.&lt;/li&gt;
&lt;li&gt;There can be conflicts in commits especially when you work in larger team.&lt;/li&gt;
&lt;li&gt;Still &lt;strong&gt;not avoid commit .git directory&lt;/strong&gt; after running composer with &lt;code&gt;--no-scripts&lt;/code&gt; param.&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>