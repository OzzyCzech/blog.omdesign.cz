<!DOCTYPE html>
<html lang="cs-cz">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="Roman Ožana">
	<title>Výpočet hash objektu v PHP</title>	
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:title" content="Výpočet hash objektu v PHP"/>
	<meta name="twitter:description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto: class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na"/>
	<meta name="twitter:site" content="@OzzyCzech"/>
	<meta name="twitter:domain" content="http://blog.omdesign.cz/"/>
	<meta name="twitter:creator" content="@OzzyCzech"/>
	<meta property="og:title" content="Výpočet hash objektu v PHP" />
	<meta property="og:description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto: class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://blog.omdesign.cz/v%C3%BDpo%C4%8Det-hash-objektu-v-php/" />
	<meta property="og:updated_time" content="2011-09-25 00:00:00 &#43;0000 UTC"/>
	<meta property="og:site_name" content="blog.omdesign.cz" />
	<meta property="article:author" content="https://www.facebook.com/roman.ozana" />
	<meta property="article:publisher" content="https://www.facebook.com/roman.ozana" />
	<meta property="article:published_time" content="0001-01-01 00:00:00 &#43;0000 UTC" />
	<meta property="article:modified_time" content="2011-09-25 00:00:00 &#43;0000 UTC" />
	<meta property="article:section" content="posts" />
	<meta property="article:tag" content="hash" />
	<meta property="article:tag" content="PHP" />
	<meta itemprop="name" content="Výpočet hash objektu v PHP">
	<meta itemprop="description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto: class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na">
	<meta itemprop="keywords" content="ajax,angular,antispam,archive,atom,auto,automator,barvy,bash,boostrap,brew,canvas,composer,css,diplomka,drive,email,excerpt,ftp,git,github,gulp,hack,hash,heartbleed,hermelín,how-to,howto,html,html5,internet,ios,iphone,js,json,lifehacker,mac,meta,movies,nodejs,npm,oauth,oko,openssl,osx,parkinsons-law,pear,php,plugin,protip,přepis-auta,rebase,recepty,retina,shell,student,svg,terminal,tip,todo,tyčinky,user,ux,webdesign,wordpress,wysiwyg,xcode,youtube,zamyšlení,zdraví,zip," />
	<meta itemprop="wordCount" content="98">
<!-- Fonts, jQuery and js -->
	<link href="//fonts.googleapis.com/css?family=Lora" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="http://blog.omdesign.cz//js/app.js"></script>
	<!-- Twitter boostrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<script src="//netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
	      integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!-- Google code prettify -->
	<script src="//cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true"></script>
	<link href="http://blog.omdesign.cz//css/style.css" rel="stylesheet">
</head>
<body>


<section class="container">
	<article>
	

<h1 id="výpočet-hash-objektu-v-php">Výpočet hash objektu v PHP</h1>

<p>Funkce <a href="http://php.net/manual/en/function.spl-object-hash.php">spl_object_hash()</a>
má jednu <strong>nevýhodu</strong>, její výsledek se v čase mění. Pokud objekt naplníte
stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí
být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho
vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat
například takto:</p>

<pre><code>class Foo {
 private $p;
 public function setProperty($p) {
  $this-&gt;p = $p;
 }
 // vypocita hash objektu na zaklade hodnot jeho propert
 public function __toString() {
  return md5(http_build_query(get_object_vars($this)));
 }
}
</code></pre>

<p>Pro vypsání/získání hash pak stačí:</p>

<pre><code>$bar = new Foo();
$bar-&gt;setProperty('25');
echo $bar;
$hash = (string) $bar;
</code></pre>

	
	<a href="http://blog.omdesign.cz/tags/hash">#hash</a>
	
	<a href="http://blog.omdesign.cz/tags/php">#PHP</a>
	
	<time datetime="25096-08-925 250:00&#43;0000">25. 9. 2011</time>
</article>

</section>

<div class="text-center">
	<a href="http://blog.omdesign.cz/" class="btn btn-primary btn-lg" onclick="history.go(-1);"><i class="glyphicon glyphicon-chevron-left"></i>
		Go back</a>
</div>


    <footer></footer>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-5420131-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>

