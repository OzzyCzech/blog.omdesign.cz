
<!DOCTYPE html>
<html lang="cs-cz">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<link rel="shortcut icon" href="http://blog.omdesign.cz/favicon.ico">
	<meta name="author" content="Roman Ožana">
	<title>Výpočet hash objektu v PHP</title>
	<link rel="canonical" href="https://blog.testomato.com/" />	
	<meta name="twitter:card" content="summary"/>
	<meta name="twitter:title" content="Výpočet hash objektu v PHP"/>
	<meta name="twitter:description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto:
class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na zaklade hodnot jeho propert public function __toString() { return md5(http_build_query(get_object_vars($this))); } }  Pro vypsání/získání hash pak stačí:"/>
	<meta name="twitter:site" content="@OzzyCzech"/>
	<meta name="twitter:domain" content="http://blog.omdesign.cz"/>
	<meta name="twitter:creator" content="@OzzyCzech"/>
	<meta property="og:title" content="Výpočet hash objektu v PHP" />
	<meta property="og:description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto:
class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na zaklade hodnot jeho propert public function __toString() { return md5(http_build_query(get_object_vars($this))); } }  Pro vypsání/získání hash pak stačí:" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://blog.omdesign.cz/v%C3%BDpo%C4%8Det-hash-objektu-v-php/" />
	<meta property="og:updated_time" content="2011-09-25 00:00:00 &#43;0000 UTC"/>
	<meta property="og:site_name" content="blog.omdesign.cz" />
	<meta property="article:author" content="https://www.facebook.com/roman.ozana" />
	<meta property="article:publisher" content="https://www.facebook.com/roman.ozana" />
	<meta property="article:published_time" content="0001-01-01 00:00:00 &#43;0000 UTC" />
	<meta property="article:modified_time" content="2011-09-25 00:00:00 &#43;0000 UTC" />
	<meta property="article:section" content="posts" />
	<meta property="article:tag" content="hash" />
	<meta property="article:tag" content="PHP" />
	<meta itemprop="name" content="Výpočet hash objektu v PHP">
	<meta itemprop="description" content="Výpočet hash objektu v PHP Funkce spl_object_hash() má jednu nevýhodu, její výsledek se v čase mění. Pokud objekt naplníte stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat například takto:
class Foo { private $p; public function setProperty($p) { $this-&gt;p = $p; } // vypocita hash objektu na zaklade hodnot jeho propert public function __toString() { return md5(http_build_query(get_object_vars($this))); } }  Pro vypsání/získání hash pak stačí:">
	<meta itemprop="keywords" content="ajax,angular,antispam,archive,atom,auto,automator,barvy,bash,bluetooth,boostrap,bootstrap,brew,canvas,composer,css,cukroví,diplomka,drive,email,excerpt,ftp,git,github,hack,hash,heartbleed,hermelín,howto,html,images,internet,ios,iphone,js,json,lifehacker,mac,meta,movies,nodejs,npm,oauth,oko,openssl,osx,parkinsons-law,pear,perník,pečení,php,plugin,přepis-auta,quotes,rebase,recepty,retina,shell,speakers,student,svg,terminal,tip,todo,tyčinky,user,ux,webdesign,wireless,wordpress,wysiwyg,xcode,youtube,zamyšlení,zdraví," />
	<meta itemprop="wordCount" content="98">
<!-- Fonts, jQuery and js -->
	<link href="//fonts.googleapis.com/css?family=Lora" rel="stylesheet">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
	<script src="http://blog.omdesign.cz/js/app.js"></script>
	<!-- Twitter boostrap -->
	<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!-- highlight.js -->
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/monokai-sublime.min.css">
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<link href="http://blog.omdesign.cz/css/style.css" rel="stylesheet">
	<meta name="msvalidate.01" content="3A844D439E786F7E8FA940D153567FD3" />
</head>
<body>
<header class="hidden-print">
	<nav>
		<ul>
			<li><a href="https://omdesign.cz/">Home</a></li>
			<li><a href="https://omdesign.cz/work">Work</a></li>
			<li><a href="https://omdesign.cz/resume">Resume</a></li>
			<li class="active"><a href="http://blog.omdesign.cz">Blog</a></li>			
			<li><a href="https://omdesign.cz/contact">Contact</a></li>
			<li>
<form action="https://google.com/search" method="get">
  <input type="search" name="q" value="" class="form-control" placeholder="Search..." autocomplete="off">
  <input type="hidden" name="as_sitesearch" value="blog.omdesign.cz">
</form>
</li>
		</ul>
	</nav>

</header>


<section class="container">
	<article>
		
		<time datetime="2011-09-25T00:00:00Z">25. Září 2011</time>
		
		

<h1 id="výpočet-hash-objektu-v-php">Výpočet hash objektu v PHP</h1>

<p>Funkce <a href="http://php.net/manual/en/function.spl-object-hash.php">spl_object_hash()</a>
má jednu <strong>nevýhodu</strong>, její výsledek se v čase mění. Pokud objekt naplníte
stejnými hodnotami, dostanete při dvou requestech dva různé výsledky. Což nemusí
být vždy žádoucí. Někdy potřebujete objekt identifikovat na základě jeho
vnitřních hodnot pomocí neměnného řetězce. Takový hash můžete snadno získat
například takto:</p>

<pre><code>class Foo {
 private $p;
 public function setProperty($p) {
  $this-&gt;p = $p;
 }
 // vypocita hash objektu na zaklade hodnot jeho propert
 public function __toString() {
  return md5(http_build_query(get_object_vars($this)));
 }
}
</code></pre>

<p>Pro vypsání/získání hash pak stačí:</p>

<pre><code>$bar = new Foo();
$bar-&gt;setProperty('25');
echo $bar;
$hash = (string) $bar;
</code></pre>

		<div class="tags hidden-print">
		
			<a href="http://blog.omdesign.cz/tags/hash" class="tag">#hash</a>
		
			<a href="http://blog.omdesign.cz/tags/php" class="tag">#PHP</a>
		
		</div>
	</article>
</section>

<div class="text-center hidden-print">
	<a href="http://blog.omdesign.cz" class="btn btn-primary btn-lg" onclick="history.go(-1);"><i class="glyphicon glyphicon-chevron-left"></i>
		Go back</a>
</div>


    <footer></footer>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-5420131-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>

